#{extends 'main.html' /}
#{set title:'inicio' /}

<section class="related-product-area" style="margin-top: 40px;">
  <div class="container">

    <div class="section-intro pb-60px text-center">
      <h2>Todos os <span class="section-intro__style">Produtos</span></h2>
    </div>

    <div class="row mt-4">

      #{list items: produtos, as:'p'}
      <div class="col-sm-6 col-xl-3 mb-4">

        <div class="card shadow-sm border-0 h-100" style="border-radius: 12px;">

          <div class="text-center p-3">
            <img src="@{Produtos.produtoFoto(p.id)}"
                 class="img-fluid"
                 style="max-height: 140px; object-fit: cover; border-radius: 8px;">
          </div>

          <div class="card-body text-center">

            <h5 style="font-size: 1.1rem; font-weight: 600;">
				<a href="@{Produtos.detalhar(p.id)}" class="title" 
				   style="text-decoration: none; color: #000;">
                ${p.nomeProduto}
              </a>
            </h5>

            <p class="text-muted mb-1" style="font-size: 0.9rem;">
              #{if p.categoria}
                ${p.categoria.categoria}
              #{/if}
            </p>

            <div class="price mt-2" style="font-size: 1.1rem; font-weight: bold;">
              R$ ${p.preco}
            </div>

          </div>

        </div>

      </div>
      #{/list}

      #{else}
      <div class="text-center mt-4">
        <p>Nenhum produto cadastrado.</p>
        <a class="btn btn-primary btn-sm" href="@{Produtos.form}">Adicionar Produto</a>
      </div>
      #{/else}

    </div>

  </div>
</section>
